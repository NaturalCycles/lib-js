import{i as o}from"./chunks/env.bTBnF6u3.js";import{C as p,c,o as d,j as n,ae as k,a as r,G as g,t as i,k as a}from"./chunks/framework.CtOmD4Hd.js";const u=/bot|spider|crawl|headless|electron|phantom|slimer|proximic|cincraw|slurp|MicrosoftPreview|ahrefs|preview|lighthouse|facebookexternal|pinterest|screaming|apis-google|duplexweb-google|feedfetcher-google|google-read-aloud|googleweblight|mediapartners-google/i;class f{constructor(e={}){this.cfg=e}isBotOrCDP(){return!!this.getBotReason()||this.isCDP()}isBot(){return!!this.getBotReason()}getBotReason(){return this.cfg.enabled===!1?null:this.cfg.memoizeResults&&this.botReason!==void 0?this.botReason:(this.botReason=this.detectBotReason(),this.botReason)}detectBotReason(){if(o())return null;const{navigator:e}=globalThis;if(!e)return 1;const{userAgent:t}=e;return t?u.test(t)?3:e.webdriver?4:e.languages===""?6:this.cfg.treatCDPAsBotReason&&this.isCDP()?8:null:2}isCDP(){return this.cfg.enabled===!1?!1:this.cfg.memoizeResults&&this.cdp!==void 0?this.cdp:(this.cdp=this.detectCDP(),this.cdp)}detectCDP(){if(o())return!1;let e=!1;try{const t=new window.Error;window.Object.defineProperty(t,"stack",{configurable:!1,enumerable:!1,get:function(){return e=!0,""}}),window.console.debug(t)}catch{}return e}}const b={id:"botdetectionservice",tabindex:"-1"},B=JSON.parse('{"title":"BotDetectionService","description":"","frontmatter":{},"headers":[],"relativePath":"bot.md","filePath":"bot.md"}'),D={name:"bot.md"},y=Object.assign(D,{setup(l){const e=new f;return(t,s)=>{const h=p("Badge");return d(),c("div",null,[n("h1",b,[s[0]||(s[0]=r("BotDetectionService ")),g(h,{text:"experimental",type:"warning"}),s[1]||(s[1]=r()),s[2]||(s[2]=n("a",{class:"header-anchor",href:"#botdetectionservice","aria-label":'Permalink to "BotDetectionService <Badge text="experimental" type="warning"/>"'},"​",-1))]),s[3]||(s[3]=k(`<p>Allows to detect simple (non-sophisticated) bots.</p><p>Example usage:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { BotDetectionService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@naturalcycles/js-lib&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> botDetectionService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BotDetectionService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">botDetectionService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isBot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true/false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">botDetectionService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isCDP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true/false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">botDetectionService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getBotReason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// BotReason enum</span></span></code></pre></div><h2 id="demo" tabindex="-1">Demo <a class="header-anchor" href="#demo" aria-label="Permalink to &quot;Demo&quot;">​</a></h2>`,4)),n("pre",null,"isBot: "+i(a(e).isBot())+`
isCDP: `+i(a(e).isCDP())+`
isBotOrCDP: `+i(a(e).isBotOrCDP())+`
botReason: `+i(a(e).getBotReason()||"null")+`
`,1)])}}});export{B as __pageData,y as default};
